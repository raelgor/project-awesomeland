var gulp       = require('gulp'),     concat     = require('gulp-concat'),     uglify     = require('gulp-uglify'),     ngAnnotate = require('gulp-ng-annotate'),     fs         = require('fs'),     minifyCSS  = require('gulp-minify-css'),     jt, ct;  gulp.task('css', function () {      function wrap() {         gulp.src('css/**/*.css')             .pipe(concat('styles.css'))             .pipe(minifyCSS())             .pipe(gulp.dest('assets/source'));     }          clearTimeout(ct);     ct = setTimeout(wrap, 2500);  });  gulp.task('js', function () {      function wrap() {
        gulp.src(['ng/fw.js', 'ng/**/*.js'])             .pipe(concat('app.js'))             .pipe(uglify())             .pipe(ngAnnotate())             .pipe(gulp.dest('assets/source'));     }      clearTimeout(jt);     jt = setTimeout(wrap, 2500);  });  gulp.task('watch:js', ['js'], function () {     gulp.watch('ng/**/*.js', ['js']); });  gulp.task('watch:css', ['css'], function () {     gulp.watch('css/**/*.css', ['css']); });  gulp.task('dev', ['watch:css', 'watch:js']);